{"ast":null,"code":"var _jsxFileName = \"/Users/nagasumukhhd/Documents/Projects/ToDoProject/frontend/todo-app/src/components/TaskForm.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskForm = ({\n  setTasks,\n  selectedTask,\n  setSelectedTask\n}) => {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const {\n    authData\n  } = useContext(AuthContext);\n  useEffect(() => {\n    if (selectedTask) {\n      setTitle(selectedTask.title);\n    }\n  }, [selectedTask]);\n  const addTask = async e => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    try {\n      const response = await axios.post(\"http://localhost:3333/api/tasks\", {\n        title\n      }, {\n        headers: {\n          Authorization: `Bearer ${authData.token}`\n        }\n      });\n      setTasks(tasks => [...tasks, response.data]);\n      setTitle(\"\");\n    } catch (error) {\n      console.log(\"Error while adding task to db \", error);\n    }\n  };\n  const updateTask = async e => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    try {\n      const response = await axios.put(`http://localhost:3333/api/tasks/${selectedTask._id}`, {\n        title\n      }, {\n        headers: {\n          Authorization: `Bearer ${authData.token}`\n        }\n      });\n      setTasks(tasks => tasks.map(task => task._id === selectedTask._id ? response.data : task));\n      setTitle(\"\");\n      setSelectedTask(null);\n    } catch (error) {\n      console.log(\"Error while updating task in db \", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: selectedTask ? updateTask : addTask,\n    className: \"mb-3\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        className: \"form-control\",\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: selectedTask ? \"Update\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), selectedTask && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: () => {\n          setSelectedTask(null);\n          setTitle(\"\");\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskForm, \"Lh/1ebe0xcVfRk7nn+QCg+Fx5o0=\");\n_c = TaskForm;\nexport default TaskForm;\nvar _c;\n$RefreshReg$(_c, \"TaskForm\");","map":{"version":3,"names":["React","useContext","useState","useEffect","AuthContext","axios","jsxDEV","_jsxDEV","TaskForm","setTasks","selectedTask","setSelectedTask","_s","title","setTitle","authData","addTask","e","preventDefault","trim","response","post","headers","Authorization","token","tasks","data","error","console","log","updateTask","put","_id","map","task","onSubmit","className","children","type","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/nagasumukhhd/Documents/Projects/ToDoProject/frontend/todo-app/src/components/TaskForm.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport axios from \"axios\";\n\nconst TaskForm = ({ setTasks, selectedTask, setSelectedTask }) => {\n  const [title, setTitle] = useState(\"\");\n  const { authData } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (selectedTask) {\n      setTitle(selectedTask.title);\n    }\n  }, [selectedTask]);\n\n  const addTask = async (e) => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    try {\n      const response = await axios.post(\n        \"http://localhost:3333/api/tasks\",\n        { title },\n        {\n          headers: { Authorization: `Bearer ${authData.token}` },\n        }\n      );\n      setTasks((tasks) => [...tasks, response.data]);\n      setTitle(\"\");\n    } catch (error) {\n      console.log(\"Error while adding task to db \", error);\n    }\n  };\n\n  const updateTask = async (e) => {\n    e.preventDefault();\n    if (!title.trim()) return;\n    try {\n      const response = await axios.put(\n        `http://localhost:3333/api/tasks/${selectedTask._id}`,\n        { title },\n        {\n          headers: { Authorization: `Bearer ${authData.token}` },\n        }\n      );\n      setTasks((tasks) =>\n        tasks.map((task) =>\n          task._id === selectedTask._id ? response.data : task\n        )\n      );\n      setTitle(\"\");\n      setSelectedTask(null);\n    } catch (error) {\n      console.log(\"Error while updating task in db \", error);\n    }\n  };\n\n  return (\n    <form onSubmit={selectedTask ? updateTask : addTask} className=\"mb-3\">\n      <div className=\"input-group\">\n        <input\n          type=\"text\"\n          value={title}\n          className=\"form-control\"\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <button type=\"submit\" className=\"btn btn-primary\">\n          {selectedTask ? \"Update\" : \"Add\"}\n        </button>\n        {selectedTask && (\n          <button\n            type=\"button\"\n            className=\"btn btn-secondary\"\n            onClick={() => {\n              setSelectedTask(null);\n              setTitle(\"\");\n            }}\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default TaskForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}